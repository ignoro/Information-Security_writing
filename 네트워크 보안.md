## 네트워크 기술
__1. ISDN(Integrated Services Digital Network)__
- 종합정보통신망, 디지털 정보통신 서비스의 묶음
- B채널(Bearer) : 음성과 데이터 전송, D채널(Delta): 신호의 제어

__2. 프레임 릴레이(Frame Relay)__
- 근거리 통신망과 광역 통신망을 연결하기 위한 고속 전송 서비스
- 프레임이라는 가변적인 크기로 데이터를 조각내어 전송

__3. ATM(Asynchronous Transfer Mode)__
- 디지털 데이터를 53바이트의 셀, 패킷으로 조각내어 전송하는 전용 접속 스위칭 기술
- 비동기적 처리, 회선 공유를 위해 데이터분할 접속방식인 멀티플렉싱, 큐 이용
- 하드웨어로 구현, 처리가 빠름

__4. MPLS(Multi-Protocol Label Switching)__
- 개방형 시스템 간 상호 접속을 위한 네트워크 기본 참조모델
- 상위 계층은 사용자의 통신을 도와주는 역할, 하위 계층은 효율적이고 정확한 전송을 담당

## OSI 7 Layer(Open System Interconnection)
- 개방형 시스템 간 상호 접속을 위한 네트워크 기본 참조모델
- 상위 계층은 사용자의 통신을 도와주는 역할, 하위 계층은 효울적이고 정확한 전송을 담당

#### 1. 물리 계층
- 물리적 링크 설정-유지-해제 및 물리적, 전기적 인터페이스 규정, 선로 별 전송, 인코딩 방식
- 데이터링크 계층에서 받은 데이터를 비트 단위로 변환하여 수신 측으로 전송

#### 2. 데이터링크
- 물리 계층에서 전송하는 비트에 대한 비트 동기, 식별, 흐름제어 기능, 오류 제어 기능
- 헤더에는 데이터 시작 표시, 목적지 주소 포함, 트레일러에는 데이터 오류검출코드
- 논리적 연결제어 LLC(Logical Link Control), 물리적인 접속 MAC(Media Access Control)
- 데이터링크 계층에서 다루는 데이터 단위를 프레임이라고 부른다.

#### 3. 네트워크 계층
- 송신 측으로부터 수신 측의 논리적 링크 설정, 상위 계층 데이터를 작은 패킷으로 분할 전송
- 스위칭과 라우팅 두 가지 경로 배정 서비스를 제공
- 스위칭(Switching) : 패킷의 수신주소를 보자마자 정해진 방향으로 전송, 라우터보다 빠름
- 라우팅(Routing) : 라우팅 테이블을 찾아서 알고리즘으로 최단 경로 계산하여 경로 선택, 느림
- 물리주소는 패킷이 이동될 때마다 변경되지만, 네트워크 주소는 송신-발신까지 변함없이 유지

#### 4. 전송 계층
- 두 사용자 사이의 데이터 전송을 위한 종단 간(End-to-End) 제어를 담당
- 송신 컴퓨터의 프로세스에서 수신 컴퓨터의 프로세스까지의 전달

#### 5. 세션 계층
- 특정 프로세스 사이에서 세션이라 불리는 연결을 확립하고 유지하며 동기화
- 표현 계층으로부터 받은 데이터를 효율적인 세션 관리를 위해 짧게 나눈 후 전송 계층에 보냄

#### 6. 표현 계층
- 정보를 송수신자가 이해할 수 있도록 데이터 표현방식을 바꾸는 기능
- 응용 계층으로부터 받은 데이터의 보안과 효율적인 전송을 위해 암호화와 압축

#### 7. 응용 계층
- 응용 프로세스가 네트워크 환경에 접근하는 수단을 제공하여 창구역할 담당

## OSI 7 Layer 특징 정리
| | | |
| --- | --- | --- | --- |
| 응용 계층 | 각종 응용 서비스 | 메시지 단위 | FTP, TFTP, SNMP, SMTP, 텔넷, HTTP |
| 표현 계층 | 암복호화 압축, 포맷 변환 | 메세지 단위 | ASCII, Mpeg, jpg |
| 세션 계층 | 소켓 프로그램 동기화, 세션 연결, 관리, 종료 | 메세지 단위 | 전송모드 결정(반이중, 전이중, 등) NFS, SQL, RPC |
| 전송 계층 | 데이터 전송보장, 흐름제어, QoS | 세그먼트 단위 | TCP, UDP, SSL |
| 네트워크 계층 | 통신경로 설정, 중계 라우팅, 혼잡제어 데이터그램, 가상회선, IPv4, IPv6 | 패킷 단위 | IP, ICMP, IGMP, RIP, OSPF |
| 데이터링크 계층 | 오류제어, 매체제어, 에러검출, 에러정정, 흐름제어 | 프레임 단위 | ARP, RARP, PPP, SLIP |
| 물리 계층 | 물리적 연결 설정, 전송방식, 전송 매체 | 비트 스트림 단위 | 기계적, 전기적 |

## TCP/IP
- 데이터링크, 네트워크, 전송, 으용 계층으로 구성

1. 데이터링크 계층
- 데이터를 전송하는 케이블에 프레임 데이터를 송수신하는 역할

2. 네트워크 계층
- 주소를 관리하고 라우팅하는 역할
- IP(Internet Protocol) : 네트워크 주소 관리, 패킷을 라우팅
- ARP(Address Resolution Protocol) : 같은 네트워크 호스트의 하드웨어 주소(MAC) 얻음
- ICMP(Internet Control Message Protocol) : 패킷 전송에 관한 에러 메시지 처리

3. 전송 계층
- 호스트 간 통신을 제공하는 역할, 2개의 프로토콜
- TCP : 연결 지향, 데이터의 확실한 전송을 위해 받았다는 메시지를 요구할 필요 있을 때
- UDP : 비연결 지향, 패킷의 정확한 전달을 보장하지 않음

4. 응용 계층
- 어플리케이션이 네트워크에 접근 가능하도록 하는 인터페이스 기능 역할

### 포트 주소
- 메시지가 서버에 도착했을 때 전달될 특정 프로세스를 인식하기 위한 방법
- 포트 번호는 16비트이며 0~65535까지 있음
```
0~1023 : Well Known Port, 1024~65535 : 지정되지 않은 영역
21 : FTP
22 : SSH
23 : Telnet
25 : SMTP
42 : 호스트 네임 서버
53 : 도메인 네임 서버
80 : HTTP,
88 : Kerberos,
11- : POP3 메일수신,
118/156 : SQL 서비스,
161 : SNMP 네트워크 관리
```

## TCP/IP 프로토콜
1. IP
- TCP/UDP, ICMP, IGMP 데이터는 IP 데이터그램을 사용하여 전송

*IGMP(Internet Group Management Protocol) : IP 멀티캐스트를 위한 규약

1) 비신뢰성 : IP 데이터 그램이 성공적으로 도달함을 보장하지 않음, 상위 계층에서 제공
2) 비접속형 : 통신하는 호스트 사이에 연결설정 없이 패킷을 전송
3) 주소 지정 : 패킷은 IP 주소를 기반으로 목적지가지 전달
4) 경로 설정 : 목적지의 주소로 패킷을 전송하기 위한 최적의 경로를 설정

2. IPv4 주소
- 네트워크 ID 비트 수에 따라 A, B, C, D 클래스
- 서브네팅 : 이진수로 1인 부분은 네트워크, 0인 부분은 호스트를 나타냄
- 슈퍼네팅 : 부족한 IP를 효율적으로 사용하기 위해 C클래스를 묶음
- CIDR(Classless InterDomain Routing) : 부족한 IP 주소를 해결하기 위해 IP와 서브넷 마스크를 이진표기법으로 표현하여 네트워크를 다양하게 분할
- CIDR 표기법 : 10.217.123.7/20 - 연속된 1이 20개 있다는 것을 의미
- VLSM(variable Length SubnetMask) : IP 할당을 위해 ㅋ크기가 다른 서브넷을 지원
- NAT(Network Address Translation) : 사설 IP를 공인 IP로 바꾸어주는 변환기

3. IPv6 주소
- IPv4의 주소부족 문제를 해결하기 위한 체계
- IP 주소를 절약하기 위해 사용되는 NAT 변환기술 불필요
- 주소할당은 클래스별 할당이 아닌 유니캐스트, 애니캐스트, 멀티캐스트 주소형태
- 헤더를 고정 길이로 변경, 패킷 단편화 필드 삭제, 체크섬 필드 삭제, 보안기능 탐재

## 라우팅 알고리즘
- 최적의 경로를 찾는 방법
- 정적 라우팅 알고리즘 : 관리자가 직접 라우팅 테이블을 설정
- 동적 라우팅 알고리즘 : 네트워크 환경 변화에 능동적으로 대처

## 라우팅 프로토콜
- 라우팅 테이블을 동적으로 갱신, 네트워크 정보를 생성, 교환, 제어하는 프로토콜
- AS(Autonomous System, 자율 시스템)는 하나의 관리 도메인에 속한 라우터의 집합
- IGP(Interior Gateway Protocol) : AS 내 운영되는 라우팅 프로토콜
- EGP(Exterior Gateway Protocol) : AS 간 라우팅 정보를 교환하기 위한 프로토콜
1) RIPPv1(Routing Information Protoco;)
  - 거리벡터 알고리즘 사용, 가장 단순, Bellman-Ford 프로토콜
  - 흡수 15 이상 네트워크 사용불가, 회선속도 반영불가, 네트워크 변화 반영 늦음(루프 가능성)
2) RIPv2
  - 서브넷마스크 식별, 경로정보 인증, AS 구별, 브로드캐스트, 멀티캐스트 추가
  - 최대 흡수는 16으로 제한되어 확정성 문제는 해결하지 못함
3) IGRP(Interior Gateway Routing Protocol)
  - 하나의 매트릭 사용하지만 다양한 파라미터를 이용하여 거리벡터 계산, 변화 반영 빠름
  - 멀티 패스 라우팅 : 최대 4개의 경로를 관리, 트래픽 부하분산, 링크 자동복구
  - 라우팅 루프문제는 여전히 존재, 라우팅 정보 전달 느림
4) EIGRP(Enhanced Interior Gateway Routing Protocol) 
  - 수렴속도 빠름, 부분적인 갱신 지원하므로 적은 대역폭 필요
  - VLSM 지원, DUAL 알고리즘(Diffusing-Updata Algorithm)을 이용하여 네트워크 변화에 대해 패킷의 손실 없이 재라우팅 가능
5) OSPF(Opne Shortest Path First)
  - 네트워크에 변화가 생겼을 때만 플러딩을 수행함으로써 신속하게 갱신, 빠름, 트래픽 감소
  - 최적경로 계산을 위해 Dijkstra's 알고리즘이라는 링크 상태 알고리즘을 이용
6) BGP(Border  Gateway Protocol)
  - AS 간 라우팅 정보를 전달하는 EGP의 일종
  - 패스 벡터 알고리즘을 이용, 흡수 대신 AS 번호를 매트릭으로 사용
  - 초기에는 전체 라우팅 테이블 교환, 이후에는 변경된 라우팅 테이블만 교환
  - BGP 동작은 TCP를 통해 이루어지기 때문에 신뢰성을 보장

__*플러딩(Flooding): 갱신정보를 인접 라우터로 전송 - 인접 라우터로 전송 반복하는 과정__

## 네트워크 장비
1. 랜카드
- PC, 네트워크의 정보를 상호교환하게 해줌
- PC > 랜카드(정보 가공) > 네트워크
- PC와 랜카드 간 논리적 소프트웨어 : 네트워크 드라이버
- 랜카드 종류 : Full Duplex, Half Duplex(허브 등)

2. 허브
- 각 컴퓨터들의 중앙 연결지점을 제공
- 집중화 장비, 노드들을 연결시켜주는 역할
- OSI 계층의 물리 계층에서 동작, 신호증폭 기능

3. 리피터
- 전송거리에 따른 신호감쇄를 보강하기 위한 증폭, 재전송 장치
- OSI 계층의 물리 계층에서 동작, 거리 연장, 접속 시스템 수 증가
- 오류 신호도 같이 증폭하는 단점
- 리퍼터로 연결한 네트워크는 충동 도메인을 형성하므로 거리 연장 한계

__*충돌 도메인(Collision Domain)__
- 매체를 공유하는 LAN에서 하나의 장비가 데이터를 보낼 때 다른 장비가 동시에 보내면 충돌 발생, 이러한 충돌 가능 영역

4. 브리지
- 리피터와 달리 패킷 프레임 인지능력
- OSI 계층의 데이터링크 계층에서 동작: MAC, 네트워크 상호 연결
- 네트워크 장비 수가 늘어나면 충돌 발생 확률이 높아져 속도, 효율 저하 따라서 네트워크 확정을 위해 충돌 도메인을 나누어주는 장비
- 네트워크를 분산적으로 구성함으로써 보안성 증가

5. 라우터
-  IP 네트워크 및 인터넷을 연결하기 위한 장비
-  OSI 계층의 네트워크 계층에서 동작, LAN 간, WAN과 연결
-  효율적인 경로를 선택하는 라우팅, 에러 패킷에 대한 폐기 기능 수행
-  네트워크 세그먼트 내 브로드캐스팅, 멀티캐스팅을 모두 차단하여 회선 효율

| 브리지 | 라우터 |
| --- | --- |
| 헤더 정보 읽지만 변경 불가 | 프레임에 새로운 헤더 생성 |
| MAC 주소에 따라 전송 테이블 작성 | IP 주소에 따라 라우팅 테이블 작성 |
| 모든 포트에 동일한 네트워크 주소 | 포트마다 다른 네트워크 주소 |
| MAC 주소에 따라 트래픽 필터링 | IP 주소에 따라 트래픽 필터링 |
| 브로드캐스트에 패킷 전달 | 브로드캐스트에 패킷 전달하지 않음 |
| 알려지지 않은 목적지 주소를 가진 트래픽도 전달 | 알려지지 않은 목적지 주소를 가진 트래픽은 전달하지 않음 |

6. 스위치
- OSI 참조모델에 따라 2계층, 3계층, 4계층, 7계층 스위치로 구분
- L2(MAC 주소), L3(IP 주소), L4(~1024 포트 번호), L7(트래픽 내용)
1) Cut-Through 스위치
- 송수신지 주소를 얻기 위해 프레임의 첫 부분만 읽음, 프레임 중계 시간 최소화
2) Interim Cut-Through 스위치
- Cut-Through 스위치의 단점인 크기가 작은 런트 프레임의 중계를 막는 기능을 보강
3) Store-and-Forward 스위치
- 프레임 전송 전 전체 프레임을 수신, 해당 프레임 전체를 버퍼에 저장하고 에러검사 후 중계
- 런트 프레임 검사, CRC 검출이 가능하지만, 전체 프레임 버퍼링 과정이 길어지는 단점

__*포트 미러링(Port Mirroring)__
- 스위치는 허브와 달리 데이터가 전 포트에 전달되지 않으므로 데이터 분석을 위해 포트 미러링 기능이 필요하다.
Analyzer를 위해 트래픽 분석장비가 설치된 포트로 복사한다.

7. 게이트웨이
- 서로 다른 통신규약을 사용하는 네트워크를 상호연결하기 위해 자신의 통신 규약을 상대방의 통신규약으로 전환하는 역할
- OSI 계층의 모든 계층에서 동작, 두 개의 완전히 다른 네트워크 간 데이터 형식 변환
- 여러 계층의 프로토콜을 변환하므로 네트워크 내 병목현상 가능성
- PSTN(Public Switched Telephone Network)과 데이터 네트워크처럼 서로 다른 네트워크 간 연동을 가능하게 한다.

## VLAN
- 데이터링크 계층에서 브로드캐스트 도메인을 나누기 위해 사용하는 기술
- 각 스위치는 브로드캐스트 프레임에 대하여 그룹이 아닌 곳에는 전달하지 않음(보안성)
- VLAN 관리자가 다른 논리적 그룹에 대하여 서로 다른 보안정책을 적용할 수 있다.
1) Port 기반 VLAN
- 스위치 포트를 각 VLAN에 할당, VLAN이 속한 포트에 연결된 호스트 간에만 통신, 일반적
2) 네트워크 주소 기반 VLAN
- 네트워크 별로 VLAN을 구하여 같은 네트워크에 연결된 호스트 간에만 통신, 주로 IP
3) MAC 기반 VLAN
- 각 호스트의 Mac Address를 VLAN에 등록하여 통신, 주소를 전부 등록해야하므로 사용 적음
4) 프로토콜 기반 VLAN
- 같은 통신 프로토콜(TCP/IP, IPX/SPX, NETVIEW)을 가진 호스트 간에만 통신

전송매체
1. 트위스티드 페어 케이블(Twisted-Pair Cable)
- UTP, STP

2. 동축 케이블(Coaxial Cable)

3. 광케이블(Optical-fiber Cable)
- 백본 전송용, 태핑(Tapping, 꺼내는 것) 어려워 보안적 강점을 제공

무선랜 기술적 보안
1. 무선랜 인증 기술
  - 1) SSID(Service Set ID)
    - AP를 구분하는 ID, 무선랜을 통해 전송되는 패킷 헤더에 덧붙여지는 32비트 식별자
    - AP에 SSID를 부여하고 무선랜 클라이언트들은 SSID를 선택하여 통신
    - AP 장비에서 설정된 SSID 정보를 이용하여 사용자의 접속을 통제, 관리
  - 2) MAC 주소 필터링
    - MAC 주소는 네트워크 카드 제조사에 의해 부여된 48비트 하드웨어 주소
    - AP 장비에 통신기기 고유 MAC 주소를 등록하여 사용자를 통제, 관리
    - AP마다 무선랜을 사용하는 모든 PC의 MAC 주소를 등록하므로 관리 어려움
  - 3) EAP(Extensible Authentication Protocol)
    - 단순한 캡슐화 방식을 적용하여 PPP, 802.3, 802.11을 포함한 다양한 링크 계층에 적용
    - 다중 인증 메커니즘을 제공하므로 스마트 카드, 커버로스, 공용키, OTP, TLS 등 적용 가능
  - 4) WEP(Wired Equivalent Privacy)
    - 데이터링크 계층, 공유키(대칭키)인 WEP 키를 이용하여 사용자를 인증
    - 데이터 암호화와 함께 적용 가능, 무선랜 장비에서 WEP 구현 및 인증 절차 간결
    - 단방향 인증으로 인하여 복제 AP 등에 취약할 수 있음
    - WEP 키 값이 하나의 공유키를 사용하므로 키 값이 유출된 경우 보안 문제 발생
2. 무선랜 암호화 기술
  - 1) WEP(Wired equivalent Privacy)
    -  유선 등등 프라이버시, 유선 네트워크와 동일한 보안성을 가진 기술이란 의미
    -  데이터링크 계층 보안 프로토콜, 공유키(대칭키) 구조 암호화 알고리즘
    -  초기화 벡터 IV, 스트림 암호화 알고리즘 RC4, 유사 랜덤 넘버 생성기 PRNG
    -  CRC-32 알고리즘, 무결성 검사 값 ICV

    24비트 IV + 40비트 WEP 키 > 64비트 RC4 > PRNG
    
    (XOR)
    
    평문 > CRC-32 > ICV(결과) 암호문 전송

    - WEP 암호화 유형 Static WEP : RC4 알고리즘은 일정량 데이터 모으면 역계산 취약점 존재
    - Dynamic WEP : 암호화 키를 주기적 변경, RC4 사용하므로 프로세싱 파워 강화 시 취약
  
  - 2) TKIP(Temporal Key Integrity Protocol)
    -  RC4 보안 문제점 개선하기 위해 Key Mixing 함수, Dynamic WEP Key(Temporal Key), 메시지 무결성 보장을 위한 스펙(spec)을 정의한 통신 규약
    -  48비트의 확장된 길이 초기화 벡터 IV 사용, WEP의 CRC-32보다 안전한 MIC(Message Integrity Check) 사용
    -  802.11i, WPA에 적용, WEP의 기본적 취약점 그대로 존재
   
  - 3) CCMP(Counter mode with CBC-MAC Protocol)
    - AES 블록 암호를 사용
    - RC4로 전송되는 데이터 패킷마다 증가되는 초기 벡터 IV를 WEP 키와 함께 해시 새로운 WEP키를 생성하여 패킷마다 키 지정이 가능하도록 하여 암호화
    - 802.11i를 사용한 보안 기본 모드, 더 높은 보안성
    - TKIP는 과도기적 기법, CCMP는 기존 하드웨어를 고려하지 않고 보안성 고려하여 새로 설계
   
3. 무선랜 인증 및 암호화 복합 기술
  - 1) 802.1x
    - 브리지 또는 무선 AP의 물리적인 포트 사용권을 획득하는 절차
    - 외부 단말이 내부 네트워크로 접근할 때 브리지/스위치, AP에서 인증을 수행하여 접근 통제
    - 인증자 : 브리지 또는 AP, 서플리컨트 : 사용자 단말, 인증 서버 : 인증 서비스 제공
    - RADIUS(remote Authentication Dial-In User Service) 서버
  - 2
